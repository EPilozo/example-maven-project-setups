<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Configure PUBLIC "-//Mort Bay Consulting//DTD Configure//EN" "http://www.eclipse.org/jetty/configure.dtd">

<Configure class="org.eclipse.jetty.webapp.WebAppContext">
    
    <!-- this file isnt deployed to production and only intended for use with mvn jetty:run command
    during development. In production, the embedded jetty server will configure this data resource -->
    
    <New class="org.eclipse.jetty.plus.jndi.Resource">
        <Arg>
            <Ref id="thisfile"/>
        </Arg>
        <Arg>jdbc/ConnectionFactory</Arg>
        <Arg>
            <New class="org.apache.commons.dbcp.BasicDataSource">
                <Set name="url">jdbc:h2:<SystemProperty name="basedir" default="."/>/data/h2db</Set>
            </New>
        </Arg>
    </New>
</Configure>